<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>La Fripouille, will you be my valentine?</title>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: system-ui, -apple-system, sans-serif;
}

body {
    height: 100vh;
    background: linear-gradient(135deg, #ffe6ef, #fff5f8);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    color: #333;
    animation: fadeIn 1s ease;
    transition: background 0.6s ease;
}

/* FADE IN PAGE */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
}

.container {
    text-align: center;
    position: relative;
}

/* FLOATING IMAGE */
.top-image {
    width: 440px;
    margin-bottom: 20px;
    filter: drop-shadow(0 12px 24px rgba(0,0,0,0.18));
    animation: float 4s ease-in-out infinite;
}

@keyframes float {
    0% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
    100% { transform: translateY(0); }
}

h1 {
    font-weight: 800;
    font-size: 72px;
    line-height: 1.15;
    margin-bottom: 60px;
    color: #d6336c;
}

.buttons {
    position: relative;
    height: 260px;
    width: 700px;
    margin: 0 auto;
}

button {
    border: none;
    padding: 32px 60px;
    border-radius: 999px;
    font-size: 36px;
    cursor: pointer;
    transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.3s;
    box-shadow: 0 8px 18px rgba(0,0,0,0.1);
}

/* YES BUTTON (with dynamic glow) */
#yesBtn {
    background: #ff6b9a;
    color: white;
}

#noBtn {
    position: absolute;
    background: #ffd3e0;
    color: #b03060;
    left: 260px;
    top: 80px;
}

#success {
    margin-top: 28px;
    font-size: 42px;
    font-weight: 700;
    color: #e0316a;
    opacity: 0;
    transform: scale(0.8);
    transition: all 0.5s ease;
    line-height: 1.2;
}

#success.show {
    opacity: 1;
    transform: scale(1);
}

#successImg {
    margin-top: 18px;
    width: 320px;
    opacity: 0;
    transform: translateY(8px);
    transition: all 0.55s ease;
    display: block;
    margin-left: auto;
    margin-right: auto;
}

#successImg.show {
    opacity: 1;
    transform: translateY(0);
}

/* SUBTLE RATS AROUND SUCCESS TEXT */
.rat {
    position: absolute;
    font-size: 30px;
    opacity: 0;
    animation: ratPop 2.2s ease forwards;
    pointer-events: none;
    filter: drop-shadow(0 10px 18px rgba(0,0,0,0.12));
}

@keyframes ratPop {
    0%   { opacity: 0; transform: translateY(8px) scale(0.7) rotate(-6deg); }
    20%  { opacity: 0.9; }
    100% { opacity: 0; transform: translateY(-18px) scale(1.15) rotate(6deg); }
}

.heart, .eagle {
    position: absolute;
    font-size: 40px;
    animation: floatUp 2.5s ease forwards;
    pointer-events: none;
}

.eagle {
    font-size: 46px;
    animation: burstUp 2.2s ease forwards;
}

@keyframes floatUp {
    0% { opacity: 1; transform: translateY(0) scale(1); }
    100% { opacity: 0; transform: translateY(-200px) scale(1.6); }
}

@keyframes burstUp {
    0%   { opacity: 0; transform: translate(0,0) scale(0.9); }
    15%  { opacity: 1; }
    100% { opacity: 0; transform: translate(var(--dx),var(--dy)) scale(1.8); }
}
</style>
</head>

<body>
<div class="container">

<img src="image.png" class="top-image" alt="Fripouille">

<h1>
La Fripouille,<br>
will you be my valentine ?
</h1>

<div class="buttons" id="buttonArea">
<button id="yesBtn">OUI</button>
<button id="noBtn">non</button>
</div>

<div id="success">
Bonne pioche !<br>
Plus que 18 jours avant de se voir üêÄ
</div>

<img id="successImg" src="success.png" alt="surprise">

</div>

<script>
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const success = document.getElementById("success");
const successImg = document.getElementById("successImg");
const buttonArea = document.getElementById("buttonArea");

const noTexts = [
  "non",
  "je fais du jjb",
  "mes lattes sont pas cass√©es",
  "promis je rentre bient√¥t",
  "dit oui"
];

let noIndex = 0;
let yesScale = 1;
let resistance = 0; // drives background + glow intensity

function lerp(a, b, t) { return a + (b - a) * t; }
function clamp(v, min, max) { return Math.max(min, Math.min(max, v)); }

/* YES BUTTON GROWS + MORE PINK + GLOW */
function growYes() {
  yesScale = Math.min(2.6, yesScale + 0.1);
  yesBtn.style.transform = `scale(${yesScale})`;

  // background becomes more pink as resistance grows
  resistance = clamp(resistance + 0.08, 0, 1);

  const c1 = "#ffe6ef";
  const c2 = "#fff5f8";
  const c3 = "#ffd0e2";
  const c4 = "#ffe9f3";

  // swap to a stronger gradient progressively
  const t = resistance;
  document.body.style.background = `linear-gradient(135deg, ${t < 0.5 ? c1 : c3}, ${t < 0.5 ? c2 : c4})`;

  // button color progression + glow
  const colors = ["#ff6b9a","#ff5c92","#ff4f86","#ff3f7b","#ff2f70","#ff1f66"];
  const idx = Math.min(colors.length - 1, Math.floor(yesScale * 2));
  yesBtn.style.background = colors[idx];

  const glow = lerp(0.15, 0.45, t);
  const blur = lerp(16, 46, t);
  yesBtn.style.boxShadow = `0 10px 22px rgba(0,0,0,0.12), 0 0 ${blur}px rgba(255, 47, 112, ${glow})`;
}

/* HEARTS ‚Äî FROM YES BUTTON */
function createHearts(originX, originY, count = 20) {
  for (let i = 0; i < count; i++) {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerText = "üíó";

    // wider initial spread
    const startX = originX + (Math.random()*220 - 110);
    const startY = originY + (Math.random()*80 - 20);

    heart.style.left = startX + "px";
    heart.style.top  = startY + "px";

    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 2500);
  }
}

/* EAGLE EXPLOSION ‚Äî WIDE + FROM YES BUTTON */
function eagleExplosion(originX, originY, count = 34) {
  for (let i = 0; i < count; i++) {
    const e = document.createElement("div");
    e.className = "eagle";
    e.innerText = "ü¶Ö";

    // wider starting area
    e.style.left = (originX + (Math.random()*160 - 80)) + "px";
    e.style.top  = (originY + 10) + "px";

    // MUCH wider burst distance
    const dx = (Math.random()*1000 - 500) + "px";
    const dy = (Math.random()*-760 - 140) + "px";

    e.style.setProperty("--dx", dx);
    e.style.setProperty("--dy", dy);

    document.body.appendChild(e);
    setTimeout(() => e.remove(), 2300);
  }
}

/* SUBTLE RATS around the success text */
function ratSprinkles(count = 8) {
  const rect = success.getBoundingClientRect();
  const cx = rect.left + rect.width / 2;
  const cy = rect.top + rect.height / 2;

  for (let i = 0; i < count; i++) {
    const r = document.createElement("div");
    r.className = "rat";
    r.innerText = "üêÄ";

    const dx = (Math.random()*360 - 180);
    const dy = (Math.random()*160 - 80);

    r.style.left = (cx + dx) + "px";
    r.style.top  = (cy + dy) + "px";

    document.body.appendChild(r);
    setTimeout(() => r.remove(), 2200);
  }
}

/* YES CLICK */
yesBtn.addEventListener("click", () => {
  const rect = yesBtn.getBoundingClientRect();
  const originX = rect.left + rect.width / 2;
  const originY = rect.top;

  success.classList.add("show");
  successImg.classList.add("show");

  createHearts(originX, originY);
  eagleExplosion(originX, originY);
  ratSprinkles();
});

/* NO BUTTON ESCAPE */
document.addEventListener("mousemove", (e) => {
  const rect = noBtn.getBoundingClientRect();

  const distanceX = e.clientX - (rect.left + rect.width/2);
  const distanceY = e.clientY - (rect.top + rect.height/2);

  const distance = Math.sqrt(distanceX*distanceX + distanceY*distanceY);
  const triggerDistance = 120;

  if (distance < triggerDistance) {
    noIndex = (noIndex + 1) % noTexts.length;
    noBtn.innerText = noTexts[noIndex];

    growYes();

    let newLeft = noBtn.offsetLeft - distanceX * 0.45;
    let newTop  = noBtn.offsetTop - distanceY * 0.45;

    const areaRect = buttonArea.getBoundingClientRect();
    const maxX = areaRect.width - noBtn.offsetWidth;
    const maxY = areaRect.height - noBtn.offsetHeight;

    newLeft = Math.max(0, Math.min(maxX, newLeft));
    newTop  = Math.max(0, Math.min(maxY, newTop));

    noBtn.style.left = newLeft + "px";
    noBtn.style.top = newTop + "px";
  }
});
</script>
</body>
</html>